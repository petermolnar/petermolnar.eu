/*
Theme Name:		petermolnar.eu
Theme URI:		http://github.com/petermolnar/petermolnar.eu
Description:	petermolnar.eu template for Wordpress
Author:				Peter Molnar
Author URI:		http://petermolnar.eu/
Licence:			GPLv3
Version:			19.0
*/

/* --- LESS variables & methods --- */
@font-base: 18px;
@font-size: 1em;
@line-height: 1.2em;

@bgcolor: #fefefe;
@bglight: #fff;
@color: #333336;

@padding-normal: 0.3em;
@padding-large: 0.6em;

@responsive-limit: 50em;
@limit: 76ch;
@iconsize: 18px;

.limit() {
	max-width:@limit;
	width:98%;
	margin:0 auto 0 auto;
	padding: @padding-large 1% @padding-large 1%;
}

.flatul() {
		list-style-type: none;
		padding: 0;
		margin: 0;

		li {
			display: inline-block;
			padding: 0;
			margin: 0;
		}
}

.spacer {
	display: inline-block;
	padding: 0 @padding-normal 0 @padding-normal;
}

.hide {
	display: none;
	visibility: hidden;
}

* {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

html, body {
	min-height: 100%;
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, img, ins, kbd, mark, q, s, samp,
small, strike, strong, sub, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	vertical-align: baseline;
	background: transparent;
}

html, body, div, hr, blockquote, pre, fieldset, table, p,
article, aside, audio, details, figcaption,figure, footer, header, hgroup,
menu, section {
	display:block;
}

nav {
	display:inline-block;
}

blockquote, q {
	quotes: none;

}

blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}

ins {
	text-decoration: none;
}

del {
	text-decoration: line-through;
}

table {
	border-collapse: collapse;
	border-spacing: 0;
}

html {
	background-color: @color;
}

body {
	position:relative;
	overflow:auto;
	margin: 0 auto 0 auto;
	line-height: @line-height;
	font-family: "Liberation Sans",sans-serif;
	font-size:@font-base;
	font-weight: normal;
	color: @color;
	background-color: @bgcolor;
	text-shadow:1px 1px 1px rgba(0,0,0,0.004) !important;
/*
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
*/
}

a {
	color: lighten(@color, 5%);
	border-bottom: 1px solid darken(@bgcolor, 10%);
	text-decoration:none;

	&:hover {
		color: darken(@color, 5%);
		border-bottom: 1px solid darken(@color, 5%);
	}
}

hr {
	display: block;
	height: 1px;
	border: 0;
	border-top: 1px solid darken(@bgcolor,10%);
	margin: @font-size -@padding-large 0 -@padding-large;
	padding: 0;

}

blockquote {
	margin: 1em 0 1em 1em;
	padding-left: 1em;
	font-style: italic;
	border-left: 2px solid lighten(@color, 30%);
}

b, strong {
	font-weight:bold;
}

p {
	margin: @padding-large 0 @padding-large 0;
}

ul, ol {
	margin: @padding-large 0 0 0;
	padding-left:3em;
}

h1, h2, h3, h4, h5, h6, dt {
	font-weight:bold;
	clear:both;
	margin: @padding-normal 0 @padding-normal 0;
	line-height: @line-height;
}

h1 {
	font-size: 1.2em;
}

h1:before, h2:before, h3:before, h4:before {
	padding-right: @padding-normal;
}

h1:before {
	content: '#';
}
h2:before {
	content: '##';
}
h3:before {
	content: '###';
}
h4:before {
	content: '####';
}

dd {
	margin-left:@font-size;
	clear: both;
}

input, select, submit {
	vertical-align:middle;
	border: 1px solid lighten(@color,20%);
	background-color: lighten(@color,10%);
	color: darken(@bgcolor,5%);
	padding: @padding-normal;
	border-radius:@padding-normal;
	width: 6em;
	height: 2em;

	&:active, &:focus {
		background-color: darken(@color,10%);
		border: 1px solid lighten(@color,30%);
	}
}

input[type=submit] {
	width: auto;
}

table {

	td,
	th {
		border: 1px solid darken(@bgcolor,3%);
		padding: @padding-large;
	}

	th {
		text-align: left;
		font-weight: bold;
	}

}

sup {

	&:before {
		padding-right: 0.1em;
		content: "[";
	}

	&:after {
		padding-left: 0.1em;
		content: "]";
	}

}

/* --- GENERIC MAIN --- */

img.alignleft,
img.alignright,
img.right,
img.left {
	margin-bottom: @padding-large;
}

img.alignright,
img.right {
	margin-left: @padding-large;
	float:right;
}

.right {
	float: right;
}

img.alignleft,
img.left {
	margin-right: @padding-large;
	float:left;
}

.left {
	float:left;
}

.center,
.aligncenter {
	display:block;
	text-align:center;
	margin: 0 auto 0 auto;
	position: relative;
}

.right,
.alignright {
	text-align: right;
}

.left,
.alignleft {
	text-align: left;
}

.alignjustify {
	text-align:justify;
}

/* http://sonspring.com/journal/clearing-floats */

.clear {
	clear: both;
	display: block;
	overflow: hidden;
	visibility: hidden;
	width: 0;
	height: 0;
}

.content-header,
.content-footer {
	background-color: @color;

	a {
		color: darken ( @bgcolor, 30% );
		text-decoration: none;
		border: none;

		&:hover {
			color: @bgcolor;
		}
	}

}

.content-navigation {
	font-size: 0.9em;

	ul {

		.flatul();

		li {
			margin: @padding-normal;

			a {
				display:block;
				padding:@padding-normal;
				font-weight: bold;
				border-bottom: 3px solid @color;

				&:hover {
					color: darken ( @bgcolor, 10% );
					border-bottom: 3px solid darken ( @bgcolor, 10% );
				}
			}

			.active {
				color: darken ( @bgcolor, 10% );
				border-bottom: 3px solid darken ( @bgcolor, 10% );
			}

		}

	}

	@media all and (max-width: @responsive-limit) {
	text-align: center;
	display:block;

		li {
			display: inline-block;
			text-align: center;
			font-size: 0.65em;
			margin: @padding-normal 1em @padding-normal 1em;
			a {
				&:before {
					display:block;
					font-size: 2em;
					width: 100%;
				}
			}
		}
	}
}

.search-form {
	padding:@padding-large;
	display:inline-block;
	float:right;

	@media all and (max-width: @responsive-limit) {
		display:none;
		visibility:hiddeh;
	}
}


.limit,
.content-body {
	max-width: @limit;
	margin: @font-size auto @font-size auto;
}

/* --- ARTICLE --- */
.h-entry {

	a {
		&:hover {
			border-bottom: 1px solid darken(@bgcolor, 50%);
		}
	}

	font-size: 0.86em;
	padding: @padding-large;
	margin: 0 0 @font-size 0;

	.e-summary,
	.e-content {
		margin: @padding-large 0 0 0;
		font-size: 0.9em;

		h2, h3, h4, h5, h6 {
			margin-top: 1.6em;
		}

		h2 {
			padding-bottom: @padding-normal;
			border-bottom: 2px solid darken(@bgcolor,40%);
		}

		a.footnoteRef {
			border: none;
		}

		.adaptimg {
			position: relative;
			display: block;
			max-height: 98vh;
			max-width: 100%;
			width:auto;
			height:auto;
			margin: @padding-large auto @padding-large auto;
			padding: 0;
		}

		.photo .caption {
			display:block;
			font-style: italic;
			margin-bottom: 2em;
		}

	}

	.author {
		.avatar {
			display: none;
			visibility: hidden;
		}

		img {
			padding: 0;
			margin: 0;
			width: 1em;
			height: 1em;
		}
	}

	.old-warning {
		border: 0px none;
		padding: @font-size;
		font-size: 90%;
		font-weight: bold;
		color: #aaaa22;
	}

	footer,
	header {

		a {
			border: none;
		}

		h1, h2 {
			margin: 0 0 @padding-normal 0;
		}

		ul {
			.flatul();
		}

	}

	footer {
		font-size: 0.8em;

		h6 {
			margin-top: 2em;
		}

		.qr {
			display:none;
			visibility: hidden;
		}
	}

	.e-summary.long {

		[class^="icon-"]:before,
		[class*=" icon-"]:before {
			font-size: 2em;
			float:left;
		}

		p {
			display:inline;
		}

		img {
			width: 90px;
			height: 90px;
			float: left;
		}
	}

	header {
		h2 {
			margin:0;
		}

		aside {
			font-size: 0.8em;
			display: inline-block;

			p {
				margin: 0;
			}
		}

		.reaction {
			line-height:1.4em;
			a {
				font-weight: normal;
				color: @color;
				display:inline-block;
				vertical-align: bottom;
				max-width: 80%;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
				border-bottom: 1px solid darken(@bgcolor,10%);

				&:hover {
					color: darken( @color, 10% );
					border-bottom: 1px solid darken(@bgcolor,50%);
				}
			}
		}
	}
}




.tags {
	margin: @padding-large 0 @padding-large 0;
	ul {
		.flatul();

		li:after {
			content: ",";
			margin: 0 0.3em 0 -0.2em;
			display: inline-block;
		}

		li:last-child:after {
			content: "";
			margin:0;
			display:none;
		}

		li:before {
			content: "#";
			margin: 0 -0.2em 0 0;
			display: inline-block;
		}


	}
}

.exif {
	font-size: 0.9em;
	text-align:center;
	ul {
		.flatul();

		li {
			margin: 0 @padding-normal 0 0;
		}
	}

}


.u-photo img {
	border: 1px solid lighten(@color,30%);
}

.content-note {
	display:block;
	max-width: @limit;
	margin: @font-size auto 0 auto;

	p {
		font-size: 0.7em;
	}
}

.singular {

	.e-content,
	footer {
		margin-top: 2em;
	}

	.pubdate,
	.tags,
	.shortlink {
		float:none;
		clear:both;
		display:block;
		text-align: left;
	}

	.shortlink {

		p {
			text-indent: 0;
			margin:0;
			padding: 0;
		}
	}


}


/* --- FOOTER --- */

.content-footnotes,
.content-contact {
	font-size:  0.8em;
	display: inline-block;
	padding: 2em 0 2em 0;

	a {
		display:block;
	}

	@media all and (max-width: @responsive-limit) {
		display:block;
		margin: 1em 0 1em 0;
		width: 100%;
	}
}

.content-contact {
	width: 49%;
	margin: 0;
	vertical-align: top;

	.vcard {
		color: darken ( @bgcolor, 30% );
		@media all and (max-width: @responsive-limit) {
				img {
					float: right;
				}
		}

		.p-nickname:before {
			content: '@';
		}

		.fn {
			font-weight: bold;
			font-size: 1.3em;
			margin: 0 @padding-large @padding-large 0;
			display:inline-block;
		}

		img {
			height: 4em;
			width: 4em;
			float: left;
			margin: 0 2em 6em 0;
		}
	}
}

.content-footnotes {
	width: auto;
	float:right;

	@media all and (max-width: @responsive-limit) {
		display:block;
		margin: 1em 0 1em 0;
		width: 100%;
	}

}

/* --- THINGS --- */
/*
.more:after {
	content: '»';
	margin-left: @padding-normal;
	text-decoration:none;
}
*/

.more {
	display: block;
	padding: 1em 0 0 0;
	a {
		font-weight: bold;
		color: lighten ( @color, 10% );
		text-decoration: none;

		&:before {
			content: 'Continue »';
		}

		&:hover {
			color: @color;
		}
	}
}


.follow {
	cursor:pointer;
	display:block;
	text-align:right;
	margin: @padding-large 0 @padding-large 0;
	font-size: 0.8em;

	a {
		border: 1px solid darken(@bgcolor,10%);
		padding: @padding-normal @padding-large;

		&:hover {
			border: 1px solid darken(@bgcolor,20%);
		}
	}
}

/* --- PAGINATION --- */
nav.pagination {
	text-align:center;
	display: block;
	ul {
		clear:both;
		display:block;
		margin: 0;
		text-align: center;
		font-size: 1.2em;
		padding: @padding-large 0 @padding-large 0;

		li {
			display:inline;
			padding: @padding-normal;
		}

		.current,
		a,
		span {
			padding: @padding-normal @padding-large @padding-normal @padding-large;
		}

		a {
			border:none;
			background-color: @bglight;
			border: 1px solid darken(@bgcolor,10%);

			&:hover {
				border: 1px solid darken(@bgcolor,40%);
			}
		}

		.current {
			color: lighten(@color,30%);
		}
	}
}

.footnotes {
	margin-bottom: 2em;
	font-size: 0.9em;
	margin-left:@padding-large;

	hr {
		display:block;
		clear:both;
		line-height:1em;
		border:0;
		height: 1em;

		&:before {
			display:block;
			content: "References";
			font-weight: bold;
			clear: both;
			margin-top: 2em;
			color: @color;
		}
	}

	ol {
		padding: 0;
		margin-left: 1em;
		color:lighten(@color,20%);
		line-height:1.2em;

		li a[href^="#"] {
				display:none;
		}
	}

}
